!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?e(exports,require("@angular/core"),require("rxjs"),require("rxjs/operators")):"function"==typeof define&&define.amd?define("ng-inactivity-timer",["exports","@angular/core","rxjs","rxjs/operators"],e):e(t["ng-inactivity-timer"]={},t.ng.core,t.rxjs,t.rxjs.operators)}(this,function(t,e,n,r){"use strict";var i=new e.InjectionToken("Activity Monitor"),o=new e.InjectionToken("Inactivity Configuration"),c=function(){function t(e,t){var i=this;this.config=e,this.monitor=t,this.monitor$=new n.BehaviorSubject(!0),this.artificialActivity$=new n.Subject,this.timeout$=this.monitor$.pipe(r.filter(function(t){return!!t}),r.switchMap(function(t){return n.merge(i.monitor.getMonitor(),i.artificialActivity$).pipe(r.throttle(function(){return n.interval(500)}),r.startWith(undefined),r.map(function(){var t=new Date;return t.setMinutes(t.getMinutes()+e.inactivityTime),t}),r.takeUntil(i.monitor$.pipe(r.filter(function(t){return!t}))))}))}return t.prototype.getTimeOut=function(){var i=this;return this.timeout$.pipe(r.switchMap(function(e){return n.timer(0,6e4).pipe(r.switchMap(function(){var t=new Date;return n.of({showWarning:!!i.config.warningTime&&t.getTime()+i.config.warningTime>e.getTime(),timedOut:t.getTime()>e.getTime(),timeLeft:e.getTime()-t.getTime()})}))}))},t.prototype.startMonitor=function(t){void 0===t&&(t=!1),this.monitor$.next(!0),t&&this.activate()},t.prototype.stopMonitor=function(){this.monitor$.next(!1)},t.prototype.activate=function(){this.artificialActivity$.next(undefined)},t.decorators=[{type:e.Injectable,args:[{providedIn:"root",deps:[o,i]}]}],t.ctorParameters=function(){return[{type:undefined,decorators:[{type:e.Inject,args:[o]}]},{type:undefined,decorators:[{type:e.Optional},{type:e.Inject,args:[i]}]}]},t.ngInjectableDef=e.defineInjectable({factory:function(){return new t(e.inject(o),e.inject(i,8))},token:t,providedIn:"root"}),t}();t.ACTIVITY_MONITOR=i,t.INACTIVITY_CONFIG=o,t.InactivityTimerService=c,Object.defineProperty(t,"__esModule",{value:!0})});
//# sourceMappingURL=ng-inactivity-timer.umd.min.js.map